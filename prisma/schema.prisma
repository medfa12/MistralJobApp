// Prisma schema for MongoDB
// Learn more: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  id                     String    @id @default(auto()) @map("_id") @db.ObjectId
  username               String?   @unique
  firstName              String?   @map(name: "first_name")
  lastName               String?   @map(name: "last_name")
  email                  String    @unique
  password               String
  avatar                 String?   // URL or path to avatar image
  bio                    String?   // About me section
  job                    String?   // Job title
  role                   String    @default("member") // "admin" or "member"
  
  // Stripe subscription fields
  isStripeActivated      Boolean   @default(false) @map(name: "is_stripe_activated")
  stripeCustomerId       String?   @unique @map(name: "stripe_customer_id")
  stripeSubscriptionId   String?   @unique @map(name: "stripe_subscription_id")
  stripePriceId          String?   @map(name: "stripe_price_id")
  stripeCurrentPeriodEnd DateTime? @map(name: "stripe_current_period_end")
  
  // Timestamps
  createdAt              DateTime  @default(now()) @map(name: "created_at")
  updatedAt              DateTime  @updatedAt @map(name: "updated_at")

  @@map(name: "users")
}

